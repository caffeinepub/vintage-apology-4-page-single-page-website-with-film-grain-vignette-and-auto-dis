{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Dark-themed 4-section apology flow with local images, evasive No, and heart animation finale",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Refactor the single-page flow to exactly 4 smoothly transitioning sections with Next buttons on Pages 1‚Äì3 and an in-place Yes outcome on Page 4",
      "acceptanceCriteria": [
        "There are exactly 4 sections in the rendered experience (no extra final page/route/state).",
        "Transitions between sections are smooth and animated for each page change.",
        "Page 1, Page 2, Page 3 each have a working ‚ÄúNext‚Äù button that advances to the next section.",
        "Clicking ‚ÄúYes üåπ‚Äù on Page 4 reveals the final message state within Page 4 (no navigation to a separate Page 5)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/ValentineFlow.tsx",
          "operation": "modify",
          "description": "Update the flow to render only Pages 1‚Äì4, keep smooth transitions between them, and remove any navigation to a separate final page (ensure the transition wrapper re-animates on each page change via a stable key/structure)."
        },
        {
          "path": "frontend/src/components/pages/Page5Final.tsx",
          "operation": "delete",
          "description": "Remove the unused final page so the experience cannot render a 5th section."
        },
        {
          "path": "frontend/src/components/StageTransition.tsx",
          "operation": "modify",
          "description": "Adjust transition wrapper behavior (if needed) to ensure each section change triggers a smooth animated enter/exit without introducing additional pages."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Apply a consistent clean dark theme with elegant typography (Playfair Display and/or Poppins) across all sections with mobile responsiveness",
      "acceptanceCriteria": [
        "Background across all sections uses black/deep grey tones (no bright/light page backgrounds).",
        "Typography uses Playfair Display and/or Poppins consistently for headings/body/buttons.",
        "All sections render well on small screens (no horizontal scrolling; text/buttons remain visible and tappable)."
      ],
      "file_operations": [
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Ensure the required typography is available by loading Poppins in addition to Playfair Display and keeping the app language/title structure intact."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Refine global dark theme styling and typography so all sections share consistent deep-grey/black backgrounds, readable contrast, and mobile-safe spacing (no horizontal overflow)."
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Update Tailwind font families to include Poppins/Playfair appropriately for consistent typography across headings/body/buttons."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Ensure Page 1 shows the exact centered text and a Next button fixed at the bottom of the viewport",
      "acceptanceCriteria": [
        "Page 1 shows the exact text string, centered.",
        "A single ‚ÄúNext‚Äù button is visible at the bottom area of the screen without needing to scroll."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page1Splash.tsx",
          "operation": "modify",
          "description": "Adjust layout so the text remains centered while the ‚ÄúNext‚Äù button is positioned at the bottom of the viewport on mobile/desktop (no scrolling required) and the text remains exactly \"I'm really sorry chlow! ü§åüèª\"."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "If needed, refine shared layout utility classes (e.g., bottom button behavior) to guarantee Page 1's bottom-anchored ‚ÄúNext‚Äù button across device sizes."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Implement Page 2 exact text, grayscale image area beneath it (local default asset), and a clear comment for replacing the image URL",
      "acceptanceCriteria": [
        "Page 2 shows the exact text string (including spelling \"everytime\").",
        "A grayscale image (or grayscale-styled placeholder image area) is visible on Page 2.",
        "The Page 2 component contains an explicit code comment showing where to paste/replace the image URL.",
        "A ‚ÄúNext‚Äù button is present and advances to Page 3."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page2Hold.tsx",
          "operation": "modify",
          "description": "Update Page 2 to display the exact text \"I want to hold u everytime ü´†\", render a grayscale image beneath it using a local static asset by default, include an explicit code comment indicating where to replace with a custom URL, and keep a working ‚ÄúNext‚Äù button to Page 3."
        },
        {
          "path": "frontend/public/assets/generated/page2-grayscale.dim_800x1200.jpg",
          "operation": "create",
          "description": "Add the edited grayscale-with-gentle-contrast image asset for Page 2 defaults (derived from Snapchat-44209910-7.jpg) at this exact path and filename."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add/adjust image container styling for Page 2 so the grayscale image area is responsive, fits well on mobile, and matches the dark theme."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Implement Page 3 long apology paragraph and a second image area (local default asset), with a clear comment for replacing the image URL",
      "acceptanceCriteria": [
        "Page 3 shows a noticeably long paragraph (multi-sentence placeholder) as the apology message.",
        "An image area/placeholder is displayed on Page 3.",
        "The Page 3 component contains an explicit code comment showing where to paste/replace the image URL.",
        "A ‚ÄúNext‚Äù button is present and advances to Page 4."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page3Apology.tsx",
          "operation": "modify",
          "description": "Replace current short text with a multi-sentence long \"Apology Love Message\" paragraph placeholder, add a responsive image area beneath it using a local static asset by default, include an explicit code comment indicating where to replace with a custom URL, and keep a working ‚ÄúNext‚Äù button to Page 4."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add/adjust Page 3 paragraph and image area styling for readability on dark background and responsive layout on small screens."
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Implement Page 4 exact prompt text with Yes/No buttons and smooth evasive No behavior that stays within a visible container",
      "acceptanceCriteria": [
        "Page 4 shows the exact prompt text string (including \"Are u\" not \"Are you\").",
        "Buttons are labeled exactly \"Yes üåπ\" and \"No ü•Ä\".",
        "Attempting to hover/tap/click the \"No ü•Ä\" button causes it to move to a new random position with a smooth animation.",
        "The \"No ü•Ä\" button stays on-screen/inside its container and remains visibly reachable (even if hard to click)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page4ForgivePrompt.tsx",
          "operation": "modify",
          "description": "Update the prompt text to exactly \"Are u willing to forgive me bab ‚ù§Ô∏è\", keep button labels exactly \"Yes üåπ\" and \"No ü•Ä\", and refine the evasive \"No ü•Ä\" logic so it moves smoothly/randomly on hover/tap/click while clamping positions to remain fully visible within its container."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add/adjust styles for the Page 4 interaction container to ensure the evasive button remains within a predictable visible area on mobile and the motion feels smooth."
        }
      ]
    },
    {
      "id": "REQ-7",
      "summary": "On Yes click, reveal the final message in-place on Page 4 and show lightweight floating/bursting heart animations that don‚Äôt block reading",
      "acceptanceCriteria": [
        "Clicking \"Yes üåπ\" reveals the final message with the exact text string.",
        "Hearts animate on screen after clicking \"Yes üåπ\" and do not significantly degrade performance on mobile.",
        "The hearts animation layer does not block the user from reading the final message."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page4ForgivePrompt.tsx",
          "operation": "modify",
          "description": "Implement an in-component final state for Page 4: clicking \"Yes üåπ\" reveals exactly \"Awwwwweehh! Lvb u bab üíã\" in-place and triggers a hearts animation overlay without navigating away."
        },
        {
          "path": "frontend/src/components/FloatingHeartsBackground.tsx",
          "operation": "modify",
          "description": "Implement a lightweight, mobile-friendly hearts animation layer (e.g., a small number of animated heart elements) that can be toggled on after \"Yes üåπ\" and uses pointer-events none so it won‚Äôt block reading."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add CSS keyframes/classes for heart floating/bursting animations and ensure the overlay is visually above the background but below/around the readable final message."
        }
      ]
    },
    {
      "id": "REQ-8",
      "summary": "Use only the provided uploaded images as default Page 2/Page 3 imagery via static frontend assets (no stock/external images)",
      "acceptanceCriteria": [
        "Page 2 and Page 3 show default images sourced from the uploaded files (no remote URLs by default).",
        "No new stock/external images are added to the project."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/uploaded/6de4a0ed8a66079b44f32ddcb86801a1-7.jpg",
          "operation": "create",
          "description": "Add the uploaded image as a static asset for default usage (copy from the provided workspace asset list) so Page 2/Page 3 can reference it locally."
        },
        {
          "path": "frontend/public/assets/uploaded/Snapchat-44209910-7.jpg",
          "operation": "create",
          "description": "Add the uploaded image as a static asset for local referencing/auditing (even if Page 2 defaults to the edited grayscale version)."
        },
        {
          "path": "frontend/public/assets/uploaded/8cea9dbe688448677b472a8d5e73118d-11.jpg",
          "operation": "create",
          "description": "Add the uploaded image as a static asset for default usage (copy from the provided workspace asset list) so Page 3 can reference it locally."
        },
        {
          "path": "frontend/src/components/pages/Page2Hold.tsx",
          "operation": "modify",
          "description": "Ensure Page 2 uses only local static assets by default (specifically the grayscale generated asset) and contains a comment for optional replacement by URL without introducing any external default."
        },
        {
          "path": "frontend/src/components/pages/Page3Apology.tsx",
          "operation": "modify",
          "description": "Ensure Page 3 uses only local static assets by default (one of the uploaded images) and contains a comment for optional replacement by URL without introducing any external default."
        }
      ]
    }
  ]
}