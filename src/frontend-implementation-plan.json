{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Refine 5-page romantic apology flow (copy accuracy, bottom Next buttons, Yes/No labels, uploaded-image-based hugging GIF)",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Guarantee a 5-page flow in the exact order with smooth animated transitions and correct navigation rules (Next on Pages 1â€“3; Yes ğŸŒ¹ only on Page 4).",
      "acceptanceCriteria": [
        "Starting at initial load, Page 1 is shown.",
        "Clicking â€œNextâ€ on Pages 1, 2, and 3 advances to the next page.",
        "Clicking â€œYes ğŸŒ¹â€ on Page 4 advances to Page 5.",
        "Transitions between pages animate smoothly (no abrupt content swap)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/ValentineFlow.tsx",
          "operation": "modify",
          "description": "Harden the page-flow state machine to enforce the exact 1â†’2â†’3â†’4â†’5 order and prevent navigation during the exit/enter animation window so transitions remain smooth and non-abrupt."
        },
        {
          "path": "frontend/src/components/StageTransition.tsx",
          "operation": "modify",
          "description": "Ensure the transition wrapper reliably animates between child changes (e.g., keyed transitions or consistent enter/exit class application) to avoid abrupt swaps while changing pages."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Apply a consistent theme across all pages (background #20201F, accent #EE6E4D, serif romantic font, soft-rounded accent-filled buttons with dark text).",
      "acceptanceCriteria": [
        "All pages use #20201F as the primary background.",
        "Primary interactive elements (buttons) use #EE6E4D as the accent color.",
        "All text uses the configured serif font (no default sans-serif appearing on any page).",
        "Buttons have a clearly rounded shape and hover/press transitions."
      ],
      "file_operations": [
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Align global styles to the required palette and typography across all pages, and ensure button styling stays consistently soft-rounded with accent fill and dark text plus hover/press transitions."
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Verify Tailwind theme tokens and font family configuration consistently resolve to the intended serif romantic font across all components/pages."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Page 1: exact centered headline text and a Next button fixed at the bottom center of the viewport.",
      "acceptanceCriteria": [
        "Page 1 headline matches the text exactly including punctuation and emoji.",
        "The â€œNextâ€ button is visible without scrolling and is bottom-centered relative to the viewport.",
        "Clicking â€œNextâ€ navigates to Page 2."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page1Splash.tsx",
          "operation": "modify",
          "description": "Ensure Page 1 renders the headline exactly as specified and uses a layout where the â€œNextâ€ button is fixed/positioned bottom-center in the viewport (not just below content)."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add/adjust a dedicated utility class for a bottom-centered fixed Next button (viewport-fixed, safe-area aware) used by Pages 1â€“3."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Page 2: exact centered headline text and a Next button fixed at the bottom center of the viewport.",
      "acceptanceCriteria": [
        "Page 2 headline matches the text exactly (including the spacing in â€œevery timeâ€ and the emoji).",
        "The â€œNextâ€ button is visible without scrolling and is bottom-centered relative to the viewport.",
        "Clicking â€œNextâ€ navigates to Page 3."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page2Hold.tsx",
          "operation": "modify",
          "description": "Fix the headline copy to exactly â€œI want to hold u every time ğŸ« â€ (including the space in â€œevery timeâ€) and ensure the â€œNextâ€ button is fixed bottom-center in the viewport."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Page 3: concise heartfelt romantic apology text (no images) and a Next button fixed at the bottom center of the viewport.",
      "acceptanceCriteria": [
        "Page 3 displays a single short apology line/paragraph in a romantic tone.",
        "No images are displayed on Page 3.",
        "The â€œNextâ€ button is visible without scrolling and is bottom-centered relative to the viewport.",
        "Clicking â€œNextâ€ navigates to Page 4."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page3Apology.tsx",
          "operation": "modify",
          "description": "Adjust Page 3 to a single concise romantic apology message (keep it short), confirm no images are rendered, and position the â€œNextâ€ button fixed bottom-center in the viewport."
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Page 4: exact prompt text and two buttons labeled exactly â€œYes ğŸŒ¹â€ and â€œNo ğŸ¥€â€; Yes navigates to Page 5.",
      "acceptanceCriteria": [
        "The Page 4 prompt text matches exactly including emoji.",
        "Two buttons are present with labels exactly â€œYes ğŸŒ¹â€ and â€œNo ğŸ¥€â€ (case-sensitive).",
        "Clicking â€œYes ğŸŒ¹â€ navigates to Page 5."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page4ForgivePrompt.tsx",
          "operation": "modify",
          "description": "Update button labels to exactly â€œYes ğŸŒ¹â€ and â€œNo ğŸ¥€â€ (case-sensitive) while preserving the exact prompt text and ensuring only â€œYes ğŸŒ¹â€ triggers navigation to Page 5."
        }
      ]
    },
    {
      "id": "REQ-7",
      "summary": "Make the Page 4 â€œNo ğŸ¥€â€ button evade hover/touch by shifting position, staying visible and hard to click.",
      "acceptanceCriteria": [
        "On mouse hover, the â€œNo ğŸ¥€â€ button changes position (at least a noticeable shift).",
        "On touch start, the â€œNo ğŸ¥€â€ button changes position.",
        "Attempting to click â€œNo ğŸ¥€â€ does not reliably trigger a click action due to evasive movement.",
        "The button remains visible and does not permanently move off-screen."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page4ForgivePrompt.tsx",
          "operation": "modify",
          "description": "Improve the evasive movement logic to respond to hover and touch while clamping the buttonâ€™s translated position to keep it on-screen/within a safe bounding area, and avoid reliably triggering a click action."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Refine any supporting styles/positioning for the evasive â€œNo ğŸ¥€â€ button container so movement remains visible and does not push the button off-screen."
        }
      ]
    },
    {
      "id": "REQ-8",
      "summary": "Page 5: exact centered final headline and exactly one centered hugging GIF beneath; no Next button.",
      "acceptanceCriteria": [
        "The Page 5 headline matches exactly including emoji.",
        "Exactly one GIF is displayed on Page 5, centered beneath the headline.",
        "No â€œNextâ€ button appears on Page 5."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/pages/Page5Final.tsx",
          "operation": "modify",
          "description": "Confirm Page 5 renders the exact headline text and only a single centered GIF beneath it, with no â€œNextâ€ button or other navigation controls present."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Ensure the final GIF container styling centers the single GIF beneath the headline without introducing additional images or controls."
        }
      ]
    },
    {
      "id": "REQ-9",
      "summary": "Use no stock/external images; wire a single generated hugging GIF derived from the uploaded file and stored as a static asset under frontend/public/assets/generated.",
      "acceptanceCriteria": [
        "No external image URLs are used anywhere in the codebase for this site experience.",
        "No images are displayed on Pages 1â€“4.",
        "A single GIF file exists under frontend/public/assets/generated and is used on Page 5.",
        "The GIFâ€™s content is derived from the uploaded image (not replaced by unrelated artwork)."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/generated/hugging-couple.dim_600x600.gif",
          "operation": "create",
          "description": "Add the generated GIF asset at this exact path and filename, ensuring it is derived solely from the uploaded image 8cea9dbe688448677b472a8d5e73118d-10.jpg (no stock/external artwork)."
        },
        {
          "path": "frontend/src/components/pages/Page5Final.tsx",
          "operation": "modify",
          "description": "Reference the local static asset only (frontend/public/assets/generated/hugging-couple.dim_600x600.gif) for the single Page 5 image, and ensure no other pages render any images."
        }
      ]
    }
  ]
}